<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" data-ng-app="demo">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ng demo</title>
    <script src="http://cdn.bootcss.com/angular.js/1.3.8/angular.min.js"></script>
</head>
<body data-ng-controller="demoController">
    <hello data-ng-model="text">
        <a href="javascript:;">i'm {{text}}</a>
    </hello>
    <script>
        var app = angular.module('demo', []).controller('demoController', function ($scope) {
            $scope.text = '***';
        }).directive('hello', function () {
            //编写hello指令
            return {
                restrict: 'E',//指定这个指令是Element类型的
                scope: { text: '=ngModel' },//指定对象
                link: function ($scope, $elem) {
                    //注册事件
                    $elem.on('click', function () {
                        //修改数据，双向绑定
                        $scope.text =
                            $scope.text === '***' ? 'linkFly' : '***';
                        $scope.$apply();
                    });
                }
            };
        });
    </script>
</body>
</html>
